---
title: "2021年1月にやったこと"
date: 2021-02-03T14:11:01Z
tags:
    - summary
---
- Elmの生成コードの最適化に関するポストを翻訳して[Zennに公開した](https://zenn.dev/mshaka/articles/633027befebbe0448d00)
    - 日本で20人ぐらいにしか需要なさそう、と思ってたらLikeが16もついたのでもう少し読まれてそう。トレンドにも2日間ぐらい滞在した
    - V8の気持ちを理解して生成コードを直していく話
    - Zennは初めてだったけど記事をGitHubで管理できる等とても体験がよい。クラスメソッド社でも頑張ってほしい
- [『ユーザーストーリーマッピング』](https://www.amazon.co.jp/dp/4873117321/ref=cm_sw_r_tw_dp_FQE4SH7DHZA0QS3WNSM9)を読んだ
    - Twitterで前職の同僚が薦めていたことがきっかけ
    - アジャイルでソフトウェアビジネスを作るための手法みたいなもの
    - 自分が日々の業務で感じていた問題点とその解決策がほぼほぼ正しいとされていて興奮した
    - 「オタクは机にかじりついてばかりいないで対話してビジネスを一緒に考えろ」というメッセージを含んだ本です
- Brainf**kのJITコンパイラをGoとRustで書いた
    - 先のElm記事の翻訳にあたってV8について調べたりしてJITに興味を持ったので、[この記事](https://postd.cc/adventures-in-jit-compilation-part-1-an-interpreter/)を参考に作ってみた
    - 元の記事はC++だったがわからんし書きたくもないのでとりあえずGoで実装した。ソースコードは[ここ](https://github.com/m-shaka/brainfuck-jit-in-go)
    - 最初にシンプルなインタプリタを作りそれを最適化、そのあと同じ流れでJITコンパイラを作る構成
    - 元の記事では途中からアセンブリ生成のライブラリを使っていたが、Goのライブラリが微妙だったのでバイトコードを手書きした
    - x64（というか任意のアーキテクチャ）全然知らなかったので大変勉強になった
    - 最終的なJITコンパイラは[Rustにも移植した](https://github.com/m-shaka/brainfuck-jit-in-rust)
    - 原著者のリポジトリには[LLVMバックエンド版](https://github.com/eliben/code-for-blog/blob/master/2017/bfjit/llvmjit.cpp)もあるが自分は未着手
- [『プログラム意味論の基礎』](https://www.amazon.co.jp/dp/4781914837/ref=cm_sw_r_tw_dp_4PS7XPCM5TQVRQGY8BR8)の勉強会を始めた
    - 社内勉強会。同僚が1人で読んで挫折したことをきっかけに発足
    - 僕が毎回解説する形式。ざっと眺めた感じ『型システム入門』読んでるならいけるやろ、という見切り発車
    - これは本でも軽く言われていることではあるけど、集合論や論理学の知識を持たない人は1章の数学的準備の内容でつまづく可能性が高いと思う。先生を用意するか、別の本で勉強してから挑もう
    - 補足情報などを[Scrapbox](https://scrapbox.io/buddha0818-37693195/%E5%B0%8F%E6%9E%97%E3%83%BB%E4%BD%8F%E4%BA%95%E3%80%8E%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E6%84%8F%E5%91%B3%E8%AB%96%E3%81%AE%E5%9F%BA%E7%A4%8E%E3%80%8F)にまとめている。ただ証明をちゃんと書くのはちょっと億劫なので悩みどころ
